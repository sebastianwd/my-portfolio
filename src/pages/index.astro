---
import { WordAnimator } from '../components/WordAnimator'
import BaseLayout from '../layouts/BaseLayout.astro'
import { SplineRender } from '../components/SplineRender'
import { WordSpinner } from '../components/WordSpinner'
import reactIcon from '../assets/react-icon.svg'
import graphqlIcon from '../assets/graphql-icon.svg'
import nodejsIcon from '../assets/nodejs-icon.svg'
import sqlIcon from '../assets/sql-icon.svg'

import project1Img from '../assets/project1.png'
import project2Img from '../assets/project2.png'
import project3Img from '../assets/project3.png'
import linkedinIcon from '../assets/linkedin-icon.svg'
import githubIcon from '../assets/github-icon.svg'
import emailIcon from '../assets/email-icon.svg'
import { SpotifyActivity } from '../components/SpotifyActivity'
import Tilt from '../components/Tilt.astro'
import EdgeAnalytics from '../components/EdgeAnalytics.astro'
import { isProduction } from '../utils/constants'
import { Social } from '../components/Social'
import UnderlineRainbow from '../components/UnderlineRainbow.astro'
import { PageViews } from '../components/PageViews'
import hatIcon from '../assets/hat.svg?raw'
import { WaveIcon } from '../components/icons/WaveIcon'
import Button from '../components/Button.astro'

const pageTitle = "I'm Sebastian"

const techs = [
  {
    value: 'React',
    icon: reactIcon,
  },
  {
    value: 'GraphQL',
    icon: graphqlIcon,
  },
  {
    value: 'NodeJS',
    icon: nodejsIcon,
  },
  {
    value: 'SQL',
    icon: sqlIcon,
  },
]

const githubUrl = 'aHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9zZWJhc3RpYW53ZA=='

const links = [
  {
    value: 'LinkedIn',
    url: 'aHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL3NlYmFzdGlhbi1sdXF1ZS04OTFiOTAxODU=',
    type: 'url',
    icon: linkedinIcon,
  },
  {
    value: 'GitHub',
    url: githubUrl,
    type: 'url',
    icon: githubIcon,
  },
  {
    value: 'Email',
    url: 'c2ViYXN0aWFuLmx1cXVlQHByb3Rvbm1haWwuY29t',
    type: 'email',
    icon: emailIcon,
  },
] as const

const projects = [
  {
    value: 'ElevenFM',
    img: project1Img,
    description: 'Listen to music for free without ads',
    url: 'https://github.com/sebastianwd/elevenfm',
    tags: ['React', 'NodeJS', 'GraphQL'],
  },
  {
    value: 'Pet breed classifier',
    img: project3Img,
    description:
      'Identify dog and cat breeds using Python with Jupyter notebooks',
    url: 'https://github.com/sebastianwd/fastai-pet-classifier',
    tags: ['Tensorflow', 'React'],
  },
  {
    value: 'YT Downloader',
    img: project2Img,
    description: 'Download videos from youtube',
    url: 'https://github.com/sebastianwd/youtube-downloader',
    tags: ['React', 'NodeJS'],
  },
]
---

<BaseLayout title={pageTitle}>
  <span class='mt-[5%] block px-6 font-belle text-surface-200 md:px-0'
    >{'<html>'}</span
  >
  <span class='mb-[5%] mt-3 block pl-5 font-belle text-surface-200'
    >&#x3C;body&#x3E;</span
  >
  <div
    class='relative grid pl-6 pr-2 md:grid-cols-[1fr_240px] lg:grid-cols-[1fr_360px] lg:px-6'
  >
    <div>
      <WordAnimator
        client:load
        delay={120}
        className='min-h-12 font-clvtc text-5xl'
        words={pageTitle}
      >
        {pageTitle}
      </WordAnimator>
      <h2
        class='mt-2 pr-2 font-primary text-lg text-surface-200 md:pr-0 lg:text-balance'
      >
        <UnderlineRainbow>
          <span>Systems Engineer </span>
          & Full Stack
          <span>Web Developer</span>
        </UnderlineRainbow>
        specialized in JavaScript with experience in technologies like
        <WordSpinner client:load items={techs} className='min-w-24' />
      </h2>
      <div class='mt-6 flex h-9 gap-6'>
        {
          links.map((link) => {
            return (
              <Social
                url={link.url}
                value={link.value}
                type={link.type}
                imgSrc={link.icon.src}
                client:only='react'
              />
            )
          })
        }
      </div>
    </div>
    <div
      class='absolute -top-4 right-0 -z-10 translate-x-8 translate-y-1/3 scale-50 md:top-5 md:-translate-y-1/3 md:translate-x-32 lg:translate-x-24 lg:scale-90'
    >
      <SplineRender
        sceneUrl='https://prod.spline.design/rNTqNEmg4s2WTWkg/scene.splinecode'
        client:load
      />
    </div>
  </div>
  <div
    class='mt-52 grid gap-8 px-6 md:mt-16 md:grid-cols-[1fr_164px] lg:grid-cols-[1fr_248px] lg:pr-0'
  >
    <div
      class='flex flex-col rounded-2xl border-r border-solid border-zinc-800 pr-14'
    >
      <WordAnimator
        delay={200}
        client:load
        className='mb-4 h-10 font-clvtc text-4xl text-primary'
        words='> About'
        tag='h2'
      />
      <p class='mb-4 font-primary text-base'>
        I like building things for the web. I'm particularly drawn to frontend
        development where I can craft user interfaces and implement design
        systems. I have expertise in
        <UnderlineRainbow>
          <span>React.js</span>
          and
          <span>Node.js</span>
          with
          <span>Typescript</span>.
        </UnderlineRainbow>
      </p>
      <ul class='flex flex-col gap-4'>
        <li class="before:text-primary before:content-['●']">
          &nbsp;Currently
          <ul>
            <li>
              ⠀⠀<span class='text-gray-300'>Working remotely for a</span> video surveillance
              company
            </li>
          </ul>
        </li>
        <li class="before:content-['●']">
          &nbsp;Before
          <ul>
            <li>
              ⠀⠀<span class='text-gray-300'>Working remotely for a</span> B2B e-commerce
              company
            </li>
            <li>
              ⠀⠀<span class='text-gray-300'>Working for a</span> B2B ERP software
              company
            </li>
            <li class='flex'>
              ⠀⠀<span class='text-gray-300'>BS in&nbsp;</span>Systems
              Engineering&nbsp;
              <span class='mt-1.5 inline-block size-4'
                ><Fragment set:html={hatIcon} /></span
              >
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <div class='order-last mt-12 flex flex-col gap-8 md:order-none'>
      <div class='relative flex h-fit flex-col gap-3 pt-1'>
        <SpotifyActivity client:load />
      </div>
      <div class='flex h-fit flex-col'>
        <PageViews client:load />
      </div>
    </div>
    <div class='mt-8 flex flex-col gap-3'>
      <h2 class='flex font-clvtc text-4xl'>
        <span>{'>'} Featured&nbsp;</span>
        <WordAnimator
          delay={200}
          client:visible
          className='h-10 text-primary'
          words='Projects'
          tag='span'
        />
      </h2>
      <p class='mb-4 font-primary text-base'>
        Some personal side projects that I’ve worked on.
      </p>
      <Button variant='secondary'>View project</Button>
    </div>
  </div>
  <span class='mb-3 mt-[10%] block px-6 font-belle text-surface-200'
    >&#x3C;/body&#x3E;</span
  >
  <span class='px-6 font-belle text-surface-200 md:px-0'>&#x3C;/html&#x3E;</span
  >
  {isProduction ? <EdgeAnalytics slug='/' /> : null}
</BaseLayout>

<script>
  import VanillaTilt from 'vanilla-tilt'

  document.addEventListener('astro:page-load', () => {
    VanillaTilt.init(Array.from(document.querySelectorAll('[data-tilt-lib]')), {
      max: 25,
      speed: 400,
      transition: true,
      perspective: 800,
      'max-glare': 0.2,
      glare: true,
    })
  })
</script>
