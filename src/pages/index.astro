---
import { WordAnimator } from '../components/WordAnimator'
import BaseLayout from '../layouts/BaseLayout.astro'
import { SplineRender } from '../components/SplineRender'
import { WordSpinner } from '../components/WordSpinner'
import reactIcon from '../assets/react-icon.svg'
import graphqlIcon from '../assets/graphql-icon.svg'
import nodejsIcon from '../assets/nodejs-icon.svg'
import sqlIcon from '../assets/sql-icon.svg'
import spotifyIcon from '../assets/spotify.svg'
import project1Img from '../assets/project1.png'
import linkedinIcon from '../assets/linkedin-icon.svg'
import githubIcon from '../assets/github-icon.svg'
import emailIcon from '../assets/email-icon.svg'
import { SpotifyActivity } from '../components/SpotifyActivity'
import Tilt from '../components/Tilt.astro'
import EdgeAnalytics from '../components/EdgeAnalytics.astro'
import { isProduction } from '../utils/constants'
import { Social } from '../components/Social'
import UnderlineRainbow from '../components/UnderlineRainbow.astro'

const pageTitle = "Hi, I'm Sebastian"

const techs = [
  {
    value: 'React',
    icon: reactIcon,
  },
  {
    value: 'GraphQL',
    icon: graphqlIcon,
  },
  {
    value: 'NodeJS',
    icon: nodejsIcon,
  },
  {
    value: 'SQL',
    icon: sqlIcon,
  },
]

const links = [
  {
    value: 'LinkedIn',
    url: 'aHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL3NlYmFzdGlhbi1sdXF1ZS04OTFiOTAxODU=',
    type: 'url',
    icon: linkedinIcon,
  },
  {
    value: 'GitHub',
    url: 'aHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9zZWJhc3RpYW53ZA==',
    type: 'url',
    icon: githubIcon,
  },
  {
    value: 'Email',
    url: 'c2ViYXN0aWFuLmx1cXVlQHByb3Rvbm1haWwuY29t',
    type: 'email',
    icon: emailIcon,
  },
] as const

const projects = [
  {
    value: 'ElevenFM',
    img: project1Img,
    description: 'Listen to music for free without ads',
    url: 'https://github.com/sebastianwd/elevenfm',
  },
  {
    value: 'ElevenFM',
    img: project1Img,
    description: 'Listen to music for free without ads',
    url: 'https://github.com/sebastianwd/elevenfm',
  },
]
---

<BaseLayout title={pageTitle}>
  <span class='font-belle text-surface-200'>{'<html>'}</span>
  <span class='my-3 block px-6 font-belle text-surface-200'
    >&#x3C;body&#x3E;</span
  >
  <div
    class='relative grid px-6 md:grid-cols-[1fr_240px] lg:grid-cols-[1fr_360px]'
  >
    <div>
      <WordAnimator
        client:load
        delay={120}
        className='min-h-12 font-clvtc text-5xl'
        words={pageTitle}
      >
        {pageTitle}
      </WordAnimator>
      <h2 class='mt-2 font-iamono text-lg text-surface-200'>
        Systems Engineer and Full Stack Web Developer specialized in JavaScript
        with experience in technologies like
        <WordSpinner client:load items={techs} />
      </h2>
      <div class='mt-6 flex gap-6'>
        {
          links.map((link) => {
            return (
              <Social
                url={link.url}
                value={link.value}
                type={link.type}
                imgSrc={link.icon.src}
                client:only='react'
              />
            )
          })
        }
      </div>
    </div>
    <div
      class='absolute right-0 top-0 -z-10 md:-translate-y-1/3 md:translate-x-28 md:scale-75 lg:translate-x-12 lg:scale-100'
    >
      <SplineRender
        sceneUrl='https://prod.spline.design/rNTqNEmg4s2WTWkg/scene.splinecode'
        client:load
      />
    </div>
  </div>
  <div
    class='mt-12 grid gap-6 px-6 md:grid-cols-[1fr_240px] md:px-0 lg:grid-cols-[1fr_360px]'
  >
    <div class='flex flex-col gap-3 rounded-2xl bg-surface-700 p-6'>
      <WordAnimator
        delay={200}
        client:load
        className='font-clvtc text-4xl text-primary'
        words='> About'
        tag='h2'
      />
      <p class='font-iamono text-base'>
        Hi there! My name is Sebastian and I’m a developer with over 5 years of
        experience working with web technologies. My main expertise is
        <UnderlineRainbow>
          <span>React.js</span>
          and
          <span>Node.js</span>
          with
          <span>Typescript</span>.
        </UnderlineRainbow> Something I enjoy from this field is tackling challenges
        and figuring out simple solutions for difficult problems.
      </p>
      <p class='font-iamono text-base'>
        Some specific stuff I've worked on professionally and in personal
        projects:
      </p>
      <ul class='list-inside list-disc font-iamono text-base'>
        <li>Adding features to production e-commerce sites</li>
        <li>Mobile apps with React Native</li>
        <li>GraphQL</li>
        <li>CSS animations</li>
        <li>Frame by frame operations with videos in the browser</li>
        <li>HTML canvas</li>
        <li>Discord chatbots</li>
      </ul>
      <p class='font-iamono text-base'>
        Learning and keeping up to date with new technologies motivates me, at
        the moment I’m learning Python and generative AI with pytorch.
      </p>
    </div>
    <div class='flex h-fit flex-col gap-3 rounded-2xl bg-surface-700 p-6'>
      <img src={spotifyIcon.src} class='h-9 w-fit object-cover' />
      <SpotifyActivity client:load />
    </div>

    <div class='flex flex-col gap-3 rounded-2xl bg-surface-700 p-6'>
      <WordAnimator
        delay={200}
        client:visible
        className='font-clvtc text-4xl text-primary'
        words='> Projects'
        tag='h2'
      />
      <div class='mt-2 grid gap-4 md:grid-cols-2'>
        {
          projects.map((project) => {
            return (
              <a
                href={project.url}
                target='_blank'
                class='relative w-fit max-w-full'
              >
                <Tilt>
                  <div class='bg-gradient-blend bg-top bg-no-repeat'>
                    <img
                      src={project.img.src}
                      class='h-36 min-w-0 object-cover'
                    />
                  </div>
                  <div class='absolute inset-1/2 h-fit w-4/5 [transform:translateZ(20px)]'>
                    <h3 class='font-iamono text-lg font-bold'>
                      {project.value}
                    </h3>
                    <p class='font-iamono text-sm'>{project.description}</p>
                  </div>
                </Tilt>
              </a>
            )
          })
        }
      </div>
    </div>
  </div>
  <span class='my-3 block px-6 font-belle text-surface-200'
    >&#x3C;/body&#x3E;</span
  >
  <span class='font-belle text-surface-200'>&#x3C;/html&#x3E;</span>
  {isProduction ? <EdgeAnalytics slug='/' /> : null}
</BaseLayout>

<script>
  import VanillaTilt from 'vanilla-tilt'

  document.addEventListener('astro:page-load', () => {
    VanillaTilt.init(Array.from(document.querySelectorAll('[data-tilt-lib]')), {
      max: 25,
      speed: 400,
      transition: true,
      perspective: 1000,
      'max-glare': 0.5,
    })
  })
</script>
